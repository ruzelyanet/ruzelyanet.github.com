'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.default = statsLogger;

require('colors');

// callback for testing
function statsLogger(err, stats) {
	var cb = arguments.length <= 2 || arguments[2] === undefined ? console.log : arguments[2];

	if (err) {
		throw new Error(err.message.red.bgBlack);
	}

	var time = new Date().toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/, '$1');
	var prompt = '[' + time.gray + '] [' + 'webpack'.yellow + ']';

	var durations = stats.endTime - stats.startTime;
	var formatedDurations = durations >= 1000 ? durations / 1000 + ' s' : durations + ' ms';
	var message = 'Completed in ' + formatedDurations.magenta;

	cb(prompt + ' ' + message);
}
